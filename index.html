<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Ù…Ù†ØµØ© Ù†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª ÙˆØ§Ù„Ø£Ù„Ø¹Ø§Ø¨ - Ù…Ø¬Ø§Ù†ÙŠ</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Fonts for languages -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Hebrew:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Cairo', sans-serif; }
        body.en { font-family: 'Roboto', sans-serif; }
        body.he { font-family: 'Noto Sans Hebrew', sans-serif; }
        body.zh { font-family: 'Noto Sans SC', sans-serif; }

        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        .glass-effect { backdrop-filter: blur(10px); background: rgba(255,255,255,0.1); }
        .app-card { background: linear-gradient(145deg, #ffffff, #f0f0f0); }

        /* Custom language dropdown styles (dark options) */
        .language-dropdown { position: relative; display: inline-block; }
        .language-btn {
            display: flex;
            align-items: center;
            gap: .5rem;
            padding: .35rem .75rem;
            border-radius: .5rem;
            background: rgba(255,255,255,0.12);
            color: white;
            border: 1px solid rgba(255,255,255,0.18);
            cursor: pointer;
        }
        .language-options {
            position: absolute;
            right: 0;
            top: calc(100% + 8px);
            background: #000; /* black background as requested */
            color: #fff;
            border-radius: .6rem;
            box-shadow: 0 8px 24px rgba(0,0,0,0.4);
            overflow: hidden;
            min-width: 160px;
            z-index: 50;
            display: none;
        }
        .language-option {
            padding: .6rem .9rem;
            cursor: pointer;
            white-space: nowrap;
        }
        .language-option:hover {
            background: rgba(255,255,255,0.06);
        }
        /* Ensure select (if any) fallback remains readable */
        select#languageSelectorFallback {
            background: #000 !important;
            color: #fff !important;
            border: 1px solid rgba(255,255,255,0.18) !important;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-4 space-x-reverse">
                    <div class="w-10 h-10 bg-white rounded-lg flex items-center justify-center">
                        <span class="text-2xl">ğŸš€</span>
                    </div>
                    <h1 class="text-2xl font-bold">Ù…Ù†ØµØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª</h1>
                </div>
                <nav class="hidden md:flex space-x-6 space-x-reverse items-center">
                    <a href="#home" class="hover:text-yellow-300 transition-colors" data-key="nav_home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                    <a href="#apps" class="hover:text-yellow-300 transition-colors" data-key="nav_apps">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª</a>
                    <a href="#publish" class="hover:text-yellow-300 transition-colors" data-key="nav_publish">Ù†Ø´Ø± ØªØ·Ø¨ÙŠÙ‚</a>

                    <!-- Custom language dropdown (dark background for options) -->
                    <div class="relative language-dropdown">
                        <button id="languageBtn" class="language-btn" aria-haspopup="listbox" aria-expanded="false">
                            <span id="languageBtnLabel">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" class="mt-0.5">
                                <path d="M6 9l6 6 6-6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <div id="languageOptions" class="language-options" role="listbox" aria-labelledby="languageBtn">
                            <div class="language-option" data-lang="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
                            <div class="language-option" data-lang="en">English</div>
                            <div class="language-option" data-lang="he">×¢×‘×¨×™×ª</div>
                            <div class="language-option" data-lang="zh">ä¸­æ–‡</div>
                        </div>
                    </div>

                </nav>
                <div id="authSection">
                    <button id="loginBtn" class="bg-white text-purple-600 px-6 py-2 rounded-lg font-semibold hover:bg-gray-100 transition-colors" data-key="login">
                        ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                    </button>
                    <div id="userMenu" class="hidden bg-white text-purple-600 px-4 py-2 rounded-lg">
                        <span id="userName" class="font-semibold ml-2"></span>
                        <button id="logoutBtn" class="bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600" data-key="logout">
                            Ø®Ø±ÙˆØ¬
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="gradient-bg text-white py-20">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-5xl font-bold mb-6" data-key="hero_title">Ø§Ù†Ø´Ø± ØªØ·Ø¨ÙŠÙ‚Ùƒ Ø£Ùˆ Ù„Ø¹Ø¨ØªÙƒ Ø¨Ø³Ù‡ÙˆÙ„Ø©</h2>
            <p class="text-xl mb-8 max-w-2xl mx-auto" data-key="hero_subtitle">Ù…Ù†ØµØ© Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù„Ù†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª ÙˆØ§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¬Ø§Ù†Ø§Ù‹. ÙˆØµÙˆÙ„ Ù„Ø¢Ù„Ø§Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø­ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù„Ù…</p>
            <button id="startPublishingBtn" class="bg-yellow-400 text-gray-900 px-8 py-4 rounded-lg text-xl font-bold hover:bg-yellow-300 transition-colors shadow-lg" data-key="start_publishing">
                Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù†Ø´Ø± Ø§Ù„Ø¢Ù† - Ù…Ø¬Ø§Ù†ÙŠ
            </button>
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-6">
            <h3 class="text-3xl font-bold text-center mb-12 text-gray-800" data-key="why_choose">Ù„Ù…Ø§Ø°Ø§ ØªØ®ØªØ§Ø± Ù…Ù†ØµØªÙ†Ø§ØŸ</h3>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="text-center p-6 card-hover rounded-xl border">
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-3xl">ğŸ’¸</span>
                    </div>
                    <h4 class="text-xl font-semibold mb-3" data-key="competitive_price">Ù…Ø¬Ø§Ù†ÙŠ</h4>
                    <p class="text-gray-600" data-key="price_desc">Ù†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ù…Ø¬Ø§Ù†ÙŠ ØªÙ…Ø§Ù…Ø§Ù‹</p>
                </div>
                <div class="text-center p-6 card-hover rounded-xl border">
                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-3xl">âš¡</span>
                    </div>
                    <h4 class="text-xl font-semibold mb-3" data-key="fast_publish">Ù†Ø´Ø± Ø³Ø±ÙŠØ¹</h4>
                    <p class="text-gray-600" data-key="fast_desc">ØªØ·Ø¨ÙŠÙ‚Ùƒ Ø³ÙŠÙƒÙˆÙ† Ù…ØªØ§Ø­Ø§Ù‹ Ø®Ù„Ø§Ù„ Ø¯Ù‚Ø§Ø¦Ù‚ Ù…Ù† Ø±ÙØ¹Ù‡</p>
                </div>
                <div class="text-center p-6 card-hover rounded-xl border">
                    <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-3xl">ğŸŒ</span>
                    </div>
                    <h4 class="text-xl font-semibold mb-3" data-key="global_reach">ÙˆØµÙˆÙ„ Ø¹Ø§Ù„Ù…ÙŠ</h4>
                    <p class="text-gray-600" data-key="global_desc">Ø¢Ù„Ø§Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù„Ù…</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Apps Gallery -->
    <section id="apps" class="py-16 bg-gray-50">
        <div class="container mx-auto px-6">
            <h3 class="text-3xl font-bold text-center mb-12 text-gray-800" data-key="published_apps">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª ÙˆØ§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø©</h3>
            <div id="appsGrid" class="grid md:grid-cols-3 lg:grid-cols-4 gap-6">
                <!-- Apps will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Publish Section -->
    <section id="publish" class="py-16 bg-white">
        <div class="container mx-auto px-6 max-w-4xl">
            <h3 class="text-3xl font-bold text-center mb-12 text-gray-800" data-key="publish_now">Ø§Ù†Ø´Ø± ØªØ·Ø¨ÙŠÙ‚Ùƒ Ø§Ù„Ø¢Ù†</h3>
            <div class="bg-gradient-to-r from-purple-50 to-blue-50 p-8 rounded-2xl shadow-lg">
                <form id="publishForm" class="space-y-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2" data-key="app_name">Ø§Ø³Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚/Ø§Ù„Ù„Ø¹Ø¨Ø©</label>
                            <input type="text" id="appName" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2" data-key="category">Ø§Ù„ÙØ¦Ø©</label>
                            <select id="appCategory" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option value="" data-key="choose_category">Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø©</option>
                                <option value="games" data-key="games">Ø£Ù„Ø¹Ø§Ø¨</option>
                                <option value="productivity" data-key="productivity">Ø¥Ù†ØªØ§Ø¬ÙŠØ©</option>
                                <option value="education" data-key="education">ØªØ¹Ù„ÙŠÙ…</option>
                                <option value="entertainment" data-key="entertainment">ØªØ±ÙÙŠÙ‡</option>
                                <option value="business" data-key="business">Ø£Ø¹Ù…Ø§Ù„</option>
                                <option value="social" data-key="social">Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</option>
                            </select>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2" data-key="app_description">ÙˆØµÙ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</label>
                        <textarea id="appDescription" rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Ø§ÙƒØªØ¨ ÙˆØµÙØ§Ù‹ Ù…ÙØµÙ„Ø§Ù‹ Ø¹Ù† ØªØ·Ø¨ÙŠÙ‚Ùƒ..."></textarea>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2" data-key="app_file">Ù…Ù„Ù Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</label>
                            <input type="file" id="appFile" accept=".apk,.ipa,.exe,.dmg,.zip,.rar" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                            <p class="text-xs text-gray-500 mt-1" data-key="supported_formats">Ø§Ù„ØµÙŠØº Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©: APK, IPA, EXE, DMG, ZIP, RAR</p>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2" data-key="app_image">Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©</label>
                            <input type="url" id="appImage" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="https://example.com/image.jpg">
                        </div>
                    </div>

                    <!-- New: Support URL field -->
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø¹Ù… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                        <input type="url" id="appSupportUrl" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="https://paypal.me/yourname Ø£Ùˆ https://patreon.com/yourname">
                        <p class="text-xs text-gray-500 mt-1">Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯ÙØ¹ Ø£Ùˆ Ø§Ù„ØªØ¨Ø±Ø¹ Ù„ÙŠØªÙ… Ø¹Ø±Ø¶Ù‡ ÙÙŠ ØµÙØ­Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù…Ù† Ø¯Ø¹Ù…Ùƒ Ù…Ø§Ø¯ÙŠØ§Ù‹.</p>
                    </div>
                    
                    <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                        <div class="flex items-center">
                            <span class="text-2xl ml-3">âœ…</span>
                            <div>
                                <h4 class="font-semibold text-gray-800" data-key="publish_fee">Ø§Ù„Ù†Ø´Ø±: Ù…Ø¬Ø§Ù†ÙŠ</h4>
                                <p class="text-sm text-gray-600" data-key="one_time_payment">ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù†Ø´Ø± Ø¨Ø¯ÙˆÙ† Ø£ÙŠ Ø±Ø³ÙˆÙ…</p>
                            </div>
                        </div>
                    </div>
                    
                    <button type="submit" class="w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-4 rounded-lg text-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all shadow-lg" data-key="pay_and_publish">
                        Ù†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¢Ù† - Ù…Ø¬Ø§Ù†ÙŠ
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4 relative">
            <h3 class="text-2xl font-bold text-center mb-6">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h3>
            <form id="loginForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                    <input type="email" id="loginEmail" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500" required>
                </div>
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="loginPassword" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500" required>
                </div>
                <button type="submit" class="w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors">
                    Ø¯Ø®ÙˆÙ„
                </button>
            </form>
            <div class="text-center mt-4">
                <p class="text-gray-600">Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ <button id="showRegisterBtn" class="text-purple-600 font-semibold hover:underline">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button></p>
            </div>
            <button id="closeLoginModal" class="absolute top-4 left-4 text-gray-500 hover:text-gray-700">âœ•</button>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4 relative">
            <h3 class="text-2xl font-bold text-center mb-6">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h3>
            <form id="registerForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                    <input type="text" id="registerName" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500" required>
                </div>
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                    <input type="email" id="registerEmail" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500" required>
                </div>
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="registerPassword" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500" required>
                </div>
                <button type="submit" class="w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors">
                    Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨
                </button>
            </form>
            <div class="text-center mt-4">
                <p class="text-gray-600">Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ <button id="showLoginBtn" class="text-purple-600 font-semibold hover:underline">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button></p>
            </div>
            <button id="closeRegisterModal" class="absolute top-4 left-4 text-gray-500 hover:text-gray-700">âœ•</button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center space-x-2 space-x-reverse mb-4">
                        <span class="text-2xl">ğŸš€</span>
                        <h4 class="text-xl font-bold">Ù…Ù†ØµØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª</h4>
                    </div>
                    <p class="text-gray-400">Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù„Ù†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª ÙˆØ§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙÙŠ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</p>
                </div>
                <div>
                    <h5 class="font-semibold mb-4">Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h5>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#home" class="hover:text-white transition-colors">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                        <li><a href="#apps" class="hover:text-white transition-colors">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª</a></li>
                        <li><a href="#publish" class="hover:text-white transition-colors">Ù†Ø´Ø± ØªØ·Ø¨ÙŠÙ‚</a></li>
                    </ul>
                </div>
                <div>
                    <h5 class="font-semibold mb-4">Ø§Ù„Ø¯Ø¹Ù…</h5>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white transition-colors">Ù…Ø±ÙƒØ² Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a></li>
                    </ul>
                </div>
                <div>
                    <h5 class="font-semibold mb-4">Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ù†ØµØ©</h5>
                    <div class="space-y-2 text-gray-400">
                        <p id="totalApps">ğŸ“± 0 ØªØ·Ø¨ÙŠÙ‚ Ù…Ù†Ø´ÙˆØ±</p>
                        <p id="totalUsers">ğŸ‘¥ 0 Ù…Ø·ÙˆØ± Ù…Ø³Ø¬Ù„</p>
                        <p id="totalSupports">ğŸ’– 0 Ø¯Ø¹Ù…</p>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2025 Ù…Ù†ØµØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
            </div>
        </div>
    </footer>

    <!-- Optional Firebase SDK (enable only if you will set firebaseConfig below) -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

    <script>
        /**************************************************************************
         * Ù…Ù„Ø§Ø­Ø¸Ø©:
         * - Ø§Ù„ÙƒÙˆØ¯ ÙŠØ¹Ù…Ù„ ØªÙ…Ø§Ù…Ø§Ù‹ Ø¨Ø¯ÙˆÙ† Firebase ÙˆÙŠØ®Ø²Ù† ÙƒÙ„ Ø´ÙŠØ¡ ÙÙŠ localStorage.
         * - Ù„Ùˆ Ø­Ø·ÙŠØª firebaseConfig Ø³ÙŠØ¹Ù…Ù„ Ù…Ø²Ø§Ù…Ù†Ø© Ù„ØªØ¸Ù‡Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ù„ÙƒÙ„ Ø§Ù„Ø²ÙˆØ§Ø±.
         **************************************************************************/

        // --- Ø¶Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Firebase Ù‡Ù†Ø§ Ø¥Ù† Ø£Ø±Ø¯Øª ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© ---
        const firebaseConfig = {
            // apiKey: "YOUR_API_KEY",
            // authDomain: "YOUR_PROJECT.firebaseapp.com",
            // databaseURL: "https://YOUR_PROJECT.firebaseio.com",
            // projectId: "YOUR_PROJECT",
            // storageBucket: "YOUR_PROJECT.appspot.com",
            // messagingSenderId: "SENDER_ID",
            // appId: "APP_ID"
        };

        const USE_FIREBASE = !!(firebaseConfig && firebaseConfig.apiKey);
        let firebaseDB = null;
        if (USE_FIREBASE) {
            firebase.initializeApp(firebaseConfig);
            firebaseDB = firebase.database();
        }

        const translations = {
            ar: {
                nav_home: 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©',
                nav_apps: 'Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª',
                nav_publish: 'Ù†Ø´Ø± ØªØ·Ø¨ÙŠÙ‚',
                login: 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„',
                logout: 'Ø®Ø±ÙˆØ¬',
                hero_title: 'Ø§Ù†Ø´Ø± ØªØ·Ø¨ÙŠÙ‚Ùƒ Ø£Ùˆ Ù„Ø¹Ø¨ØªÙƒ Ø¨Ø³Ù‡ÙˆÙ„Ø©',
                hero_subtitle: 'Ù…Ù†ØµØ© Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù„Ù†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª ÙˆØ§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¬Ø§Ù†Ø§Ù‹. ÙˆØµÙˆÙ„ Ù„Ø¢Ù„Ø§Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø­ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù„Ù…',
                start_publishing: 'Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù†Ø´Ø± Ø§Ù„Ø¢Ù† - Ù…Ø¬Ø§Ù†ÙŠ',
                why_choose: 'Ù„Ù…Ø§Ø°Ø§ ØªØ®ØªØ§Ø± Ù…Ù†ØµØªÙ†Ø§ØŸ',
                competitive_price: 'Ù…Ø¬Ø§Ù†ÙŠ',
                price_desc: 'Ù†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ù…Ø¬Ø§Ù†ÙŠ ØªÙ…Ø§Ù…Ø§Ù‹',
                fast_publish: 'Ù†Ø´Ø± Ø³Ø±ÙŠØ¹',
                fast_desc: 'ØªØ·Ø¨ÙŠÙ‚Ùƒ Ø³ÙŠÙƒÙˆÙ† Ù…ØªØ§Ø­Ø§Ù‹ Ø®Ù„Ø§Ù„ Ø¯Ù‚Ø§Ø¦Ù‚ Ù…Ù† Ø±ÙØ¹Ù‡',
                global_reach: 'ÙˆØµÙˆÙ„ Ø¹Ø§Ù„Ù…ÙŠ',
                global_desc: 'Ø¢Ù„Ø§Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù„Ù…',
                published_apps: 'Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª ÙˆØ§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø©',
                publish_now: 'Ø§Ù†Ø´Ø± ØªØ·Ø¨ÙŠÙ‚Ùƒ Ø§Ù„Ø¢Ù†',
                app_name: 'Ø§Ø³Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚/Ø§Ù„Ù„Ø¹Ø¨Ø©',
                category: 'Ø§Ù„ÙØ¦Ø©',
                choose_category: 'Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø©',
                app_description: 'ÙˆØµÙ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚',
                app_file: 'Ù…Ù„Ù Ø§Ù„ØªØ·Ø¨ÙŠÙ‚',
                supported_formats: 'Ø§Ù„ØµÙŠØº Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©: APK, IPA, EXE, DMG, ZIP, RAR',
                app_image: 'Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©',
                publish_fee: 'Ø§Ù„Ù†Ø´Ø±: Ù…Ø¬Ø§Ù†ÙŠ',
                one_time_payment: 'ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù†Ø´Ø± Ø¨Ø¯ÙˆÙ† Ø£ÙŠ Ø±Ø³ÙˆÙ…',
                pay_and_publish: 'Ù†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¢Ù† - Ù…Ø¬Ø§Ù†ÙŠ',
                no_apps_yet: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ù…Ù†Ø´ÙˆØ±Ø© Ø¨Ø¹Ø¯',
                be_first: 'ÙƒÙ† Ø£ÙˆÙ„ Ù…Ù† ÙŠÙ†Ø´Ø± ØªØ·Ø¨ÙŠÙ‚Ù‡ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ©!',
                open_app: 'ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚',
                support_app: 'Ø¯Ø¹Ù… Ø§Ù„Ù…Ø·ÙˆØ±',
                supported_count_label: 'Ø¯Ø¹Ù…',
                games: 'Ø£Ù„Ø¹Ø§Ø¨',
                productivity: 'Ø¥Ù†ØªØ§Ø¬ÙŠØ©',
                education: 'ØªØ¹Ù„ÙŠÙ…',
                entertainment: 'ØªØ±ÙÙŠÙ‡',
                business: 'Ø£Ø¹Ù…Ø§Ù„',
                social: 'Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ'
            },
            en: {
                nav_home: 'Home',
                nav_apps: 'Apps',
                nav_publish: 'Publish App',
                login: 'Login',
                logout: 'Logout',
                hero_title: 'Publish Your App or Game Easily',
                hero_subtitle: 'Professional platform for publishing apps and games for free. Reach thousands of users worldwide',
                start_publishing: 'Start Publishing Now - Free',
                why_choose: 'Why Choose Our Platform?',
                competitive_price: 'Free',
                price_desc: 'Publish apps for free',
                fast_publish: 'Fast Publishing',
                fast_desc: 'Your app will be available within minutes of upload',
                global_reach: 'Global Reach',
                global_desc: 'Thousands of users from around the world',
                published_apps: 'Published Apps and Games',
                publish_now: 'Publish Your App Now',
                app_name: 'App/Game Name',
                category: 'Category',
                choose_category: 'Choose Category',
                app_description: 'App Description',
                app_file: 'App File',
                supported_formats: 'Supported formats: APK, IPA, EXE, DMG, ZIP, RAR',
                app_image: 'Image URL',
                publish_fee: 'Publishing: Free',
                one_time_payment: 'You can publish without fees',
                pay_and_publish: 'Publish App Now - Free',
                no_apps_yet: 'No apps published yet',
                be_first: 'Be the first to publish your app on the platform!',
                open_app: 'Download App',
                support_app: 'Support Developer',
                supported_count_label: 'Supports',
                games: 'Games',
                productivity: 'Productivity',
                education: 'Education',
                entertainment: 'Entertainment',
                business: 'Business',
                social: 'Social'
            },
            he: {
                nav_home: '×‘×™×ª',
                nav_apps: '××¤×œ×™×§×¦×™×•×ª',
                nav_publish: '×¤×¨×¡× ××¤×œ×™×§×¦×™×”',
                login: '×”×ª×—×‘×¨×•×ª',
                logout: '×™×¦×™××”',
                hero_title: '×¤×¨×¡× ××ª ×”××¤×œ×™×§×¦×™×” ××• ×”××©×—×§ ×©×œ×š ×‘×§×œ×•×ª',
                hero_subtitle: '×¤×œ×˜×¤×•×¨××” ××§×¦×•×¢×™×ª ×œ×¤×¨×¡×•× ××¤×œ×™×§×¦×™×•×ª ×•××©×—×§×™× ×‘×—×™× ×. ×”×’×¢ ×œ××œ×¤×™ ××©×ª××©×™× ×‘×¨×—×‘×™ ×”×¢×•×œ×',
                start_publishing: '×”×ª×—×œ ×œ×¤×¨×¡× ×¢×›×©×™×• - ×—×™× ×',
                why_choose: '×œ××” ×œ×‘×—×•×¨ ×‘×¤×œ×˜×¤×•×¨××” ×©×œ× ×•?',
                competitive_price: '×—×™× ×',
                price_desc: '×¤×¨×¡×•× ××¤×œ×™×§×¦×™×•×ª ×‘×—×™× ×',
                fast_publish: '×¤×¨×¡×•× ××”×™×¨',
                fast_desc: '×”××¤×œ×™×§×¦×™×” ×©×œ×š ×ª×”×™×” ×–××™× ×” ×ª×•×š ×“×§×•×ª ××”×¢×œ××”',
                global_reach: '×”×’×¢×” ×’×œ×•×‘×œ×™×ª',
                global_desc: '××œ×¤×™ ××©×ª××©×™× ××¨×—×‘×™ ×”×¢×•×œ×',
                published_apps: '××¤×œ×™×§×¦×™×•×ª ×•××©×—×§×™× ×©×¤×•×¨×¡××•',
                publish_now: '×¤×¨×¡× ××ª ×”××¤×œ×™×§×¦×™×” ×©×œ×š ×¢×›×©×™×•',
                app_name: '×©× ×”××¤×œ×™×§×¦×™×”/××©×—×§',
                category: '×§×˜×’×•×¨×™×”',
                choose_category: '×‘×—×¨ ×§×˜×’×•×¨×™×”',
                app_description: '×ª×™××•×¨ ×”××¤×œ×™×§×¦×™×”',
                app_file: '×§×•×‘×¥ ×”××¤×œ×™×§×¦×™×”',
                supported_formats: '×¤×•×¨××˜×™× × ×ª××›×™×: APK, IPA, EXE, DMG, ZIP, RAR',
                app_image: '×§×™×©×•×¨ ×œ×ª××•× ×”',
                publish_fee: '×¤×¨×¡×•×: ×‘×—×™× ×',
                one_time_payment: '××ª×” ×™×›×•×œ ×œ×¤×¨×¡× ×œ×œ× ×¢××œ×•×ª',
                pay_and_publish: '×¤×¨×¡× ×¢×›×©×™×• - ×—×™× ×',
                no_apps_yet: '×¢×“×™×™×Ÿ ×œ× ×¤×•×¨×¡××• ××¤×œ×™×§×¦×™×•×ª',
                be_first: '×”×™×” ×”×¨××©×•×Ÿ ×œ×¤×¨×¡× ××ª ×”××¤×œ×™×§×¦×™×” ×‘×¤×œ×˜×¤×•×¨××”!',
                open_app: '×”×•×¨×“ ××¤×œ×™×§×¦×™×”',
                support_app: '×ª××•×š ×‘××¤×ª×—',
                supported_count_label: '×ª××™×›×•×ª',
                games: '××©×—×§×™×',
                productivity: '×¤×¨×•×“×•×§×˜×™×‘×™×•×ª',
                education: '×—×™× ×•×š',
                entertainment: '×‘×™×“×•×¨',
                business: '×¢×¡×§×™×',
                social: '×—×‘×¨×ª×™'
            },
            zh: {
                nav_home: 'é¦–é¡µ',
                nav_apps: 'åº”ç”¨',
                nav_publish: 'å‘å¸ƒåº”ç”¨',
                login: 'ç™»å½•',
                logout: 'é€€å‡º',
                hero_title: 'è½»æ¾å‘å¸ƒæ‚¨çš„åº”ç”¨æˆ–æ¸¸æˆ',
                hero_subtitle: 'ä¸“ä¸šçš„åº”ç”¨å’Œæ¸¸æˆå‘å¸ƒå¹³å°ï¼Œå…è´¹å‘å¸ƒã€‚è§¦è¾¾å…¨çƒæ•°åƒç”¨æˆ·',
                start_publishing: 'ç«‹å³å¼€å§‹å‘å¸ƒ - å…è´¹',
                why_choose: 'ä¸ºä»€ä¹ˆé€‰æ‹©æˆ‘ä»¬çš„å¹³å°ï¼Ÿ',
                competitive_price: 'å…è´¹',
                price_desc: 'å…è´¹å‘å¸ƒåº”ç”¨',
                fast_publish: 'å¿«é€Ÿå‘å¸ƒ',
                fast_desc: 'ä¸Šä¼ åå‡ åˆ†é’Ÿå†…å³å¯ä¸Šçº¿',
                global_reach: 'å…¨çƒè¦†ç›–',
                global_desc: 'æ¥è‡ªä¸–ç•Œå„åœ°çš„æ•°åƒç”¨æˆ·',
                published_apps: 'å·²å‘å¸ƒçš„åº”ç”¨å’Œæ¸¸æˆ',
                publish_now: 'ç«‹å³å‘å¸ƒæ‚¨çš„åº”ç”¨',
                app_name: 'åº”ç”¨/æ¸¸æˆåç§°',
                category: 'ç±»åˆ«',
                choose_category: 'é€‰æ‹©ç±»åˆ«',
                app_description: 'åº”ç”¨æè¿°',
                app_file: 'åº”ç”¨æ–‡ä»¶',
                supported_formats: 'æ”¯æŒæ ¼å¼ï¼šAPK, IPA, EXE, DMG, ZIP, RAR',
                app_image: 'å›¾ç‰‡é“¾æ¥',
                publish_fee: 'å‘å¸ƒï¼šå…è´¹',
                one_time_payment: 'æ‚¨å¯ä»¥å…è´¹å‘å¸ƒ',
                pay_and_publish: 'ç«‹å³å‘å¸ƒ - å…è´¹',
                no_apps_yet: 'æš‚æ— å·²å‘å¸ƒåº”ç”¨',
                be_first: 'æˆä¸ºç¬¬ä¸€ä¸ªåœ¨å¹³å°ä¸Šå‘å¸ƒåº”ç”¨çš„äººï¼',
                open_app: 'ä¸‹è½½åº”ç”¨',
                support_app: 'æ”¯æŒå¼€å‘è€…',
                supported_count_label: 'æ”¯æŒæ¬¡æ•°',
                games: 'æ¸¸æˆ',
                productivity: 'æ•ˆç‡',
                education: 'æ•™è‚²',
                entertainment: 'å¨±ä¹',
                business: 'å•†åŠ¡',
                social: 'ç¤¾äº¤'
            }
        };

        let currentLanguage = localStorage.getItem('selectedLanguage') || 'ar';

        function updateLanguage(lang) {
            currentLanguage = lang;
            localStorage.setItem('selectedLanguage', lang);

            document.documentElement.lang = lang;
            // set body class for fonts
            document.body.className = lang === 'ar' ? 'bg-gray-50' : `bg-gray-50 ${lang}`;
            document.documentElement.dir = (lang === 'ar' || lang === 'he') ? 'rtl' : 'ltr';

            document.querySelectorAll('[data-key]').forEach(element => {
                const key = element.getAttribute('data-key');
                if (translations[lang] && translations[lang][key]) {
                    if (element.tagName === 'INPUT' && element.type !== 'file') {
                        element.placeholder = translations[lang][key];
                    } else {
                        element.textContent = translations[lang][key];
                    }
                }
            });

            // Update language button label
            const labelMap = { ar: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', en: 'English', he: '×¢×‘×¨×™×ª', zh: 'ä¸­æ–‡' };
            const labelEl = document.getElementById('languageBtnLabel');
            if (labelEl) labelEl.textContent = labelMap[lang] || lang;

            loadApps();
            updateStats();
        }

        // ----------------- Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ®Ø²ÙŠÙ† (Ù…Ø­Ù„ÙŠ + Ø§Ø®ØªÙŠØ§Ø±ÙŠ Firebase) -----------------
        let publishedApps = JSON.parse(localStorage.getItem('publishedApps')) || [];
        let users = JSON.parse(localStorage.getItem('users')) || [];
        let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;

        // Ensure existing apps have supports field
        publishedApps = publishedApps.map(a => ({ supports: 0, ...a }));

        if (USE_FIREBASE && firebaseDB) {
            firebaseDB.ref('publishedApps').on('value', snapshot => {
                const val = snapshot.val() || {};
                publishedApps = Object.values(val).map(v => ({ supports: 0, ...v }));
                localStorage.setItem('publishedApps', JSON.stringify(publishedApps));
                loadApps();
                updateStats();
            });

            firebaseDB.ref('users').on('value', snapshot => {
                const val = snapshot.val() || {};
                users = Object.values(val).map(v => v);
                localStorage.setItem('users', JSON.stringify(users));
                updateStats();
            });
        }

        // ----------------- ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© -----------------
        function checkAuthStatus() {
            if (currentUser) {
                document.getElementById('loginBtn').classList.add('hidden');
                document.getElementById('userMenu').classList.remove('hidden');
                document.getElementById('userName').textContent = currentUser.name;
            } else {
                document.getElementById('loginBtn').classList.remove('hidden');
                document.getElementById('userMenu').classList.add('hidden');
            }
        }

        function saveUsersToBackendIfEnabled() {
            localStorage.setItem('users', JSON.stringify(users));
            if (USE_FIREBASE && firebaseDB) {
                users.forEach(u => {
                    firebaseDB.ref('users/' + u.id).set(u);
                });
            }
        }

        function register(name, email, password) {
            const existingUser = users.find(user => user.email === email);
            if (existingUser) {
                alert(getText('email_in_use', 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„ÙØ¹Ù„'));
                return false;
            }

            const newUser = {
                id: Date.now().toString(),
                name: name,
                email: email,
                password: password,
                publishedApps: []
            };

            users.push(newUser);
            saveUsersToBackendIfEnabled();

            currentUser = newUser;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            checkAuthStatus();

            alert(getText('account_created', 'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ ÙˆØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ù†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª'));
            return true;
        }

        function login(email, password) {
            const user = users.find(user => user.email === email && user.password === password);
            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                checkAuthStatus();
                closeAllModals();
                alert((currentLanguage === 'ar' ? 'Ù…Ø±Ø­Ø¨Ø§Ù‹ ' : currentLanguage === 'he' ? '×©×œ×•× ' : currentLanguage === 'zh' ? 'æ‚¨å¥½ ' : 'Hello ') + user.name + '!' + getText('logged_in', ' ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­'));
                return true;
            } else {
                alert(getText('invalid_credentials', 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©'));
                return false;
            }
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            checkAuthStatus();
            alert(getText('logged_out', 'ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­'));
        }

        function getText(key, fallback) {
            return (translations[currentLanguage] && translations[currentLanguage][key]) ? translations[currentLanguage][key] : fallback;
        }

        // ----------------- ØªØ­Ù…ÙŠÙ„ ÙˆØ¹Ø±Ø¶ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª -----------------
        function loadApps() {
            const appsGrid = document.getElementById('appsGrid');
            appsGrid.innerHTML = '';

            if (!publishedApps || publishedApps.length === 0) {
                appsGrid.innerHTML = `
                    <div class="col-span-full text-center py-12">
                        <div class="text-6xl mb-4">ğŸ“±</div>
                        <h3 class="text-xl font-semibold text-gray-600 mb-2">${translations[currentLanguage].no_apps_yet}</h3>
                        <p class="text-gray-500">${translations[currentLanguage].be_first}</p>
                    </div>
                `;
                return;
            }

            publishedApps.forEach(app => {
                const appCard = document.createElement('div');
                appCard.className = 'app-card p-6 rounded-xl shadow-lg card-hover cursor-pointer';
                appCard.innerHTML = `
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-purple-400 to-blue-500 rounded-2xl flex items-center justify-center mx-auto mb-4 overflow-hidden">
                            ${app.image ? `<img src="${app.image}" alt="${app.name}" class="w-full h-full object-cover rounded-xl" onerror="this.style.display='none'; this.parentElement.innerHTML='ğŸ“±';">` : 'ğŸ“±'}
                        </div>
                        <h4 class="font-bold text-lg mb-2 text-gray-800">${app.name}</h4>
                        <p class="text-gray-600 text-sm mb-3">${app.description}</p>
                        <div class="flex justify-between items-center text-sm mb-2">
                            <span class="bg-purple-100 text-purple-600 px-3 py-1 rounded-full">${getCategoryName(app.category)}</span>
                            <span class="text-gray-500">ğŸ‘¤ ${app.publisherName}</span>
                        </div>
                        <div class="flex justify-between items-center text-xs text-gray-500 mb-3">
                            <span>ğŸ“ ${app.fileSize || 'N/A'}</span>
                            <span>â¬‡ï¸ ${app.downloads || 0}</span>
                        </div>
                        <div class="space-y-2">
                            <button onclick="downloadApp('${app.id}')" class="w-full bg-gradient-to-r from-purple-500 to-blue-500 text-white py-2 rounded-lg hover:from-purple-600 hover:to-blue-600 transition-all" data-key="open_app">
                                ${translations[currentLanguage].open_app}
                            </button>

                            ${app.supportUrl ? `
                                <div class="flex gap-2 mt-2">
                                    <button onclick="supportApp('${app.id}')" class="flex-1 bg-yellow-400 text-gray-900 py-2 rounded-lg font-semibold hover:bg-yellow-300 transition-colors">
                                        ${translations[currentLanguage].support_app} (${app.supports || 0})
                                    </button>
                                    <button onclick="openSupportLink('${app.id}')" class="w-12 rounded-lg border border-gray-300 text-sm">
                                        â†—
                                    </button>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                `;
                appsGrid.appendChild(appCard);
            });
        }

        function getCategoryName(category) {
            const categories = translations[currentLanguage] || translations['ar'];
            const categoryMap = {
                'games': categories.games,
                'productivity': categories.productivity,
                'education': categories.education,
                'entertainment': categories.entertainment,
                'business': categories.business,
                'social': categories.social
            };
            return categoryMap[category] || category;
        }

        function downloadApp(appId) {
            const app = publishedApps.find(a => a.id === appId);
            if (app && app.fileUrl) {
                app.downloads = (app.downloads || 0) + 1;
                localStorage.setItem('publishedApps', JSON.stringify(publishedApps));
                if (USE_FIREBASE && firebaseDB) {
                    firebaseDB.ref('publishedApps/' + app.id).set(app);
                }
                const link = document.createElement('a');
                link.href = app.fileUrl;
                link.download = app.fileName || `${app.name}.${app.fileUrl.split('.').pop()}`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                loadApps();
                updateStats();
            } else {
                alert(getText('file_not_available', 'Ù…Ù„Ù Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ØºÙŠØ± Ù…ØªÙˆÙØ± Ù„Ù„ØªØ­Ù…ÙŠÙ„'));
            }
        }

        // ----------------- Ø¯Ø¹Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ (ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· + Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¯Ø¹Ù…) -----------------
        function supportApp(appId) {
            const app = publishedApps.find(a => a.id === appId);
            if (!app) return;
            // Increase supports counter locally
            app.supports = (app.supports || 0) + 1;
            localStorage.setItem('publishedApps', JSON.stringify(publishedApps));
            if (USE_FIREBASE && firebaseDB) {
                firebaseDB.ref('publishedApps/' + app.id).set(app);
            }
            // If supportUrl exists, open it in new tab
            if (app.supportUrl) {
                window.open(app.supportUrl, '_blank');
            }
            loadApps();
            updateStats();
        }

        function openSupportLink(appId) {
            const app = publishedApps.find(a => a.id === appId);
            if (app && app.supportUrl) {
                window.open(app.supportUrl, '_blank');
            } else {
                alert('Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø¹Ù… ØºÙŠØ± Ù…ØªÙˆÙØ±');
            }
        }

        // ----------------- Ù†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª -----------------
        function publishApp(appData) {
            const newApp = {
                id: Date.now().toString(),
                name: appData.name,
                category: appData.category,
                description: appData.description,
                fileUrl: appData.fileUrl,
                fileName: appData.fileName,
                fileSize: appData.fileSize,
                image: appData.image,
                publisherId: currentUser.id,
                publisherName: currentUser.name,
                publishDate: new Date().toLocaleDateString('ar-SA'),
                downloads: 0,
                supports: 0,
                supportUrl: appData.supportUrl || ''
            };

            publishedApps.push(newApp);
            localStorage.setItem('publishedApps', JSON.stringify(publishedApps));

            currentUser.publishedApps = currentUser.publishedApps || [];
            currentUser.publishedApps.push(newApp.id);
            const userIndex = users.findIndex(user => user.id === currentUser.id);
            if (userIndex !== -1) users[userIndex] = currentUser;
            saveUsersToBackendIfEnabled();

            if (USE_FIREBASE && firebaseDB) {
                firebaseDB.ref('publishedApps/' + newApp.id).set(newApp);
            }

            loadApps();
            document.getElementById('publishForm').reset();
            alert(getText('published_ok', 'ØªÙ… Ù†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰'));
        }

        function handleFileUpload(file) {
            return new Promise((resolve) => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const fileData = {
                        url: e.target.result,
                        name: file.name,
                        size: (file.size / 1024 / 1024).toFixed(2) + ' MB'
                    };
                    resolve(fileData);
                };
                reader.readAsDataURL(file);
            });
        }

        // ----------------- Events Ùˆ Form handlers -----------------
        document.getElementById('publishForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            if (!currentUser) {
                alert(getText('must_login', 'ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ù†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª'));
                document.getElementById('loginModal').classList.remove('hidden');
                return;
            }

            const appName = document.getElementById('appName').value;
            const appCategory = document.getElementById('appCategory').value;
            const appDescription = document.getElementById('appDescription').value;
            const appFile = document.getElementById('appFile').files[0];
            const appImage = document.getElementById('appImage').value;
            const appSupportUrl = document.getElementById('appSupportUrl').value;

            if (!appName || !appCategory || !appDescription || !appFile) {
                alert(getText('fill_required', 'ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ÙˆØ±ÙØ¹ Ù…Ù„Ù Ø§Ù„ØªØ·Ø¨ÙŠÙ‚'));
                return;
            }

            const submitBtn = e.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = getText('uploading', 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø±ÙØ¹...');
            submitBtn.disabled = true;

            try {
                const fileData = await handleFileUpload(appFile);
                publishApp({
                    name: appName,
                    category: appCategory,
                    description: appDescription,
                    fileUrl: fileData.url,
                    fileName: fileData.name,
                    fileSize: fileData.size,
                    image: appImage,
                    supportUrl: appSupportUrl
                });
            } catch (error) {
                alert(getText('upload_error', 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù'));
            } finally {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        });

        // Authentication UI handlers
        document.getElementById('loginBtn').addEventListener('click', function() {
            document.getElementById('loginModal').classList.remove('hidden');
        });

        document.getElementById('logoutBtn').addEventListener('click', logout);

        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            login(email, password);
        });

        document.getElementById('registerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;

            if (register(name, email, password)) {
                closeAllModals();
            }
        });

        document.getElementById('showRegisterBtn').addEventListener('click', function() {
            document.getElementById('loginModal').classList.add('hidden');
            document.getElementById('registerModal').classList.remove('hidden');
        });

        document.getElementById('showLoginBtn').addEventListener('click', function() {
            document.getElementById('registerModal').classList.add('hidden');
            document.getElementById('loginModal').classList.remove('hidden');
        });

        document.getElementById('closeLoginModal').addEventListener('click', closeAllModals);
        document.getElementById('closeRegisterModal').addEventListener('click', closeAllModals);

        // Start publishing button
        document.getElementById('startPublishingBtn').addEventListener('click', function() {
            if (!currentUser) {
                alert(getText('must_login', 'ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹'));
                document.getElementById('loginModal').classList.remove('hidden');
                return;
            }
            document.getElementById('publish').scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        });

        // Smooth scrolling for anchors
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        function closeAllModals() {
            document.getElementById('loginModal').classList.add('hidden');
            document.getElementById('registerModal').classList.add('hidden');
        }

        // Update statistics
        function updateStats() {
            document.getElementById('totalApps').textContent = `ğŸ“± ${publishedApps.length} ${currentLanguage === 'he' ? '××¤×œ×™×§×¦×™×•×ª ×¤×•×¨×¡××•' : currentLanguage === 'zh' ? 'åº”ç”¨å·²å‘å¸ƒ' : 'ØªØ·Ø¨ÙŠÙ‚ Ù…Ù†Ø´ÙˆØ±'}`;
            document.getElementById('totalUsers').textContent = `ğŸ‘¥ ${users.length} ${currentLanguage === 'he' ? '××¤×ª×—×™× ×¨×©×•××™×' : currentLanguage === 'zh' ? 'å¼€å‘è€…å·²æ³¨å†Œ' : 'Ù…Ø·ÙˆØ± Ù…Ø³Ø¬Ù„'}`;
            const totalSupports = publishedApps.reduce((s, a) => s + (a.supports || 0), 0);
            document.getElementById('totalSupports').textContent = `ğŸ’– ${totalSupports} ${currentLanguage === 'he' ? '×ª××™×›×•×ª' : currentLanguage === 'zh' ? 'æ”¯æŒæ¬¡æ•°' : 'Ø¯Ø¹Ù…'}`;
        }

        // ----------------- Language dropdown handlers (custom) -----------------
        const languageBtn = document.getElementById('languageBtn');
        const languageOptions = document.getElementById('languageOptions');

        function initLanguageDropdown() {
            languageBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                const expanded = languageBtn.getAttribute('aria-expanded') === 'true';
                languageBtn.setAttribute('aria-expanded', !expanded);
                languageOptions.style.display = expanded ? 'none' : 'block';
            });

            document.querySelectorAll('.language-option').forEach(opt => {
                opt.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');
                    updateLanguage(lang);
                    languageOptions.style.display = 'none';
                    languageBtn.setAttribute('aria-expanded', 'false');
                });
            });

            // close when clicking outside
            document.addEventListener('click', function() {
                languageOptions.style.display = 'none';
                languageBtn.setAttribute('aria-expanded', 'false');
            });
        }

        // Initialize on load
        initLanguageDropdown();
        updateLanguage(currentLanguage);
        checkAuthStatus();
        loadApps();
        updateStats();
    </script>
</body>
</html>
